apiVersion: 2019-12-01
location: westeurope
name: nodedep-dependency-_NN_
properties:
  imageRegistryCredentials:
  - server: _ACR_NAME_.azurecr.io
    username: _ACR_NAME_
    password: _ACR_PASSWD_
  containers:
  - name: envoy-edge
    properties:
      image: envoyproxy/envoy-dev
      ports:
      - port: 443
        protocol: TCP
      - port: 80
        protocol: TCP
      - port: 9901
        protocol: TCP
      resources:
        requests:
          cpu: 2.0
          memoryInGB: 0.5
      volumeMounts:
      - name: envoy-yaml
        mountPath: /etc/envoy
      environmentVariables:
      - name: ENVOY_UID
        value: 0
  - name: nodedep-dependency
    properties:
      image: _ACR_NAME_.azurecr.io/nodedep-dependency:_NODEDEP_DEPENDENCY_TAG_
      resources:
        requests:
          cpu: 1.0
          memoryInGb: 0.5
      ports:
      - port: 8080
      environmentVariables:
      - name: MOCK_DELAY
        value: 100
  osType: Linux
  volumes:
  - secret:
      cert.pem: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVMVENDQXhXZ0F3SUJBZ0lVRGJEenNoNXRz
VUFsTlc0T0FLRGpFUlNCUVNjd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2dhVXhDekFKQmdOVkJBWVRB
a0ZWTVJNd0VRWURWUVFJREFwVGIyMWxMVk4wWVhSbE1TRXdId1lEVlFRSwpEQmhKYm5SbGNtNWxk
Q0JYYVdSbmFYUnpJRkIwZVNCTWRHUXhPekE1QmdOVkJBTU1NbTV2WkdWa1pYQXRaR1Z3ClpXNWta
VzVqZVMwd01TNTNaWE4wWlhWeWIzQmxMbUY2ZFhKbFkyOXVkR0ZwYm1WeUxtbHZNU0V3SHdZSktv
WkkKaHZjTkFRa0JGaEpyYUc5M2JHbHVaMEJuYldGcGJDNWpiMjB3SGhjTk1qQXdOekUyTWpBek5E
RTJXaGNOTXpBdwpOekUwTWpBek5ERTJXakNCcFRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJB
Z01DbE52YldVdFUzUmhkR1V4CklUQWZCZ05WQkFvTUdFbHVkR1Z5Ym1WMElGZHBaR2RwZEhNZ1VI
UjVJRXgwWkRFN01Ea0dBMVVFQXd3eWJtOWsKWldSbGNDMWtaWEJsYm1SbGJtTjVMVEF4TG5kbGMz
UmxkWEp2Y0dVdVlYcDFjbVZqYjI1MFlXbHVaWEl1YVc4eApJVEFmQmdrcWhraUc5dzBCQ1FFV0Vt
dG9iM2RzYVc1blFHZHRZV2xzTG1OdmJUQ0NBU0l3RFFZSktvWklodmNOCkFRRUJCUUFEZ2dFUEFE
Q0NBUW9DZ2dFQkFNcG5KaUJVeUlFTXRzWmxJZDRMb0pvUGtyc1FnYmo2b2pXM044UUoKY0pZc1Q0
OFVSVDMrZGxtN01hY284YVdaZnZnZ1RTUmxCR2ltcGxEamdKT0FkQ2VxQXNDVGRFTmxvRndqNUNs
MgpLTnRwZHFaRGM1NGQ5dC9lcmhzdVlVTnlSSnYzWU8xN0c4RTBBeVRxcEJYWWQwSHNIVTF3WGFn
emxTNERKUXhwCnpVRXBML0syQWhWTFhEUC9Xc3BLR0t0ZVBINHNJQ1k2dS94cDRPYm5MeHJDdDJ6
TmJKZXdRc0x4L0ZuRzAxM3kKa2QxVFRzc21zTjhZZWFTOUNVYzJnWXJ4Y2lOWnByc3BiQWZRcm1l
WjRxWjBDWStWODNqSG5FWUFFRFJubmdnTApQNzVSblQrV0VOVmQrODZVdGJxWEtvSmh3aEVQbDBk
R2RudWoxejUvOVQ1RWdROENBd0VBQWFOVE1GRXdIUVlEClZSME9CQllFRkhQeW0vT0t5SzZkeXVj
cDFYU1EyV0JFOTIrdE1COEdBMVVkSXdRWU1CYUFGSFB5bS9PS3lLNmQKeXVjcDFYU1EyV0JFOTIr
dE1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQgpBS05VaDlh
by8yNGU5dWpROXN4bFFCRU9yejNmVkwvZUZoTWtUYVkreU5Zdkt4ZHdtUjU0dFFnSHBoN2VPQVlV
CklOdzJlR204ekU3Ykx1SHY3K0xTcUFNazRZT2R4bG5Ra3B0UW1RRi9YTTBUN3RqbThNZGhSZUt4
VTJQbnhjZHIKakNCZHQrRHhyMWg2WXFERGVEM0FIcTNGNXd4YlhldkZzV3FEdTUyN29CT3M1elV5
RjdQWFp5NWNZOU5MOVh6MQp5Y2w5TzUzZGxBR05DZWRGZWZpTHY0SW9yMEtXS2lZVVRyaHQrZkxs
QXJNYzRBdDNVMlkwM1pXd0hKcHhGdzN0ClFTRHFCUTVZUWszbmpqQ0ZBRWtrcUFZQWRucEpYdC9w
amFBRGFrYk9NYW14REt3WFlJdC9rWG9UeHhBZ1FTcC8KMTFrV1cyWFViWXlPL1hCSVFKOTFHRTg9
Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
      key.pem: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2Z0lCQURBTkJna3Foa2lHOXcwQkFRRUZB
QVNDQktnd2dnU2tBZ0VBQW9JQkFRREtaeVlnVk1pQkRMYkcKWlNIZUM2Q2FENUs3RUlHNCtxSTF0
emZFQ1hDV0xFK1BGRVU5L25aWnV6R25LUEdsbVg3NElFMGtaUVJvcHFaUQo0NENUZ0hRbnFnTEFr
M1JEWmFCY0krUXBkaWpiYVhhbVEzT2VIZmJmM3E0YkxtRkRja1NiOTJEdGV4dkJOQU1rCjZxUVYy
SGRCN0IxTmNGMm9NNVV1QXlVTWFjMUJLUy95dGdJVlMxd3ovMXJLU2hpclhqeCtMQ0FtT3J2OGFl
RG0KNXk4YXdyZHN6V3lYc0VMQzhmeFp4dE5kOHBIZFUwN0xKckRmR0hta3ZRbEhOb0dLOFhJaldh
YTdLV3dIMEs1bgptZUttZEFtUGxmTjR4NXhHQUJBMFo1NElDeisrVVowL2xoRFZYZnZPbExXNmx5
cUNZY0lSRDVkSFJuWjdvOWMrCmYvVStSSUVQQWdNQkFBRUNnZ0VBUUVaNWFSTURpVmZNUXp5aWdL
MFlsMVFTdUswSlJRRHl1alF3MVdSYUNKYVIKdlZJbW13VlArRGJtRWJ1QzRaL1pIbHJEcEtjZnUw
d1F6T2N5VWFVZFBldFRiR3huSTNBR2VMdzlISjJWWS9nZAo0YmJSNUlpSGVaaHhtZGdrc3hKNmp6
MEQzdWFWYmNsaXBqcU5XUktnN0tKYXU5alBKVGNjVEx4YTY1STl5RThICmc4WTVseFpZNUlaZldX
NW5EUlhESllOcldyVktnVk5mbk8ra2lyOUFpR2kvZkVHRStWd0pPOE5JV1dVemJWUUYKWUZ4NnVq
dkVRKy9IWlFMMXZGTm5kSWRkVkpDYVpyUkFzNjhCR1BoU0Q3ZCtJSDk1eDNzNkcwVmwvM0hTTEdQ
TQprR2ttTlhFOUc4bjVUTDlucGk4OS9iK2xLc0d0TlJDS3BTQUg4ME5jSVFLQmdRRGtMU1NuU1FV
eHJwU25GblJvCnR6YmtDeVhabjJOTUw2QjFKdlhkS25UaFB1QVU1RHNtNFZoazlwVW02MjdDVGJ5
NmIyZS9DWm9TTDUySzRhejMKeFI1YTBvRld1dG1nM09ZUWN5YUs3L2gwNG9rVlgySEFvMEhoNS9u
NnpRdjNvYmIwbVR3NnVaaUwydlE3aWwwMQpaNTdaQ2JIODRlRE12L2UwdkR2QUpqQWptd0tCZ1FE
akZYTjQyQzZNbUdyL3JHSTBFWVI3bHJiQTl4MExET3h4CkFyZ3RqSG1XSHovQ0E5ZC9vTlpUREQ5
QWljUy9jTXRYSlZxN0NkQjkvdkEzN2RrZEpJWnZ1N29nNmxmNVUvZkMKNkJxNE12S0R6SkhqWFMz
V2J0OEhUSzRzOEFQV2JWSXNCSURTVmxRdzljRDhseVlzVnRuaXQvdG9rdC9WUGxVWgpiMk9WMWFv
eG5RS0JnUURMVWlhZElnWU0xVUlFK1k5VldCMERhNk9ZbmR4L29OamNTNUUrT0h6WjBZc2ZVcGdh
Cjl5WXJJVWFhM2FOZVpLTE5oa1B1Q1FKUFBqcWw3SjZTVWdYUWJFOXdGeU9ob2ZVbnAxUXE3ZFo1
WVB0Q0hqSWUKMDlyN0VCakNrVUFlc3UweVcvRTlhdkF4ZnpPdWNvYkg5Y09vSm1tQnEwMERaZk8y
Q3gwN0JVeFVEUUtCZ1FDQwozemYvYTBmWWkzY1BCc0JLRmRadWk3dWpsa2RNdVJRRFJYZnorRU9T
ZTB2NWV0RlZvdElpWnFxRmZXREFuRGIwCmNIakwxcW9zRXlOS2VHOXFWa1NNWEhxMndaZ1YvNGlJ
OGMrRVhRaGJZU2lyQ21hQ2NMOWtxNUt1SDExMjFPWkkKckFlNk1UcXdSTklHUU80bEc2RFRBd21I
aVM0cTdaT0o1eUpUbGlKU0dRS0JnQkhkV3NBdjJjSnIzdTlWZzRNRgpxM1l5NlRLbTlGenFhSSt5
cGlkWnZvZFZYNXl3dzlEVEhXVUkzRk5Dang0cG9SQzRSSkhKdVg0TmxFWXRJbFF2ClFwa3B1eGRC
MElCWThRRkhPcWw4SnY4UUVITDJ4Y3NWc21XbTNkdVlsdjY4cWVEalNZNmlZNXFvcCsyMCtvL24K
MG9uc09vSlZ2Z3RlTTk0TVBJdHBlL3JzCi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K"
      envoy.yaml: "YWRtaW46CiAgYWNjZXNzX2xvZ19wYXRoOiAvdG1wL2FkbWluX2FjY2Vzcy5sb2cKICBhZGRyZXNz
OgogICAgc29ja2V0X2FkZHJlc3M6CiAgICAgIHByb3RvY29sOiBUQ1AKICAgICAgYWRkcmVzczog
MC4wLjAuMAogICAgICBwb3J0X3ZhbHVlOiA5OTAxCnN0YXRpY19yZXNvdXJjZXM6CiAgbGlzdGVu
ZXJzOgogIC0gbmFtZTogbGlzdGVuZXJfaHR0cHMKICAgIGFkZHJlc3M6CiAgICAgIHNvY2tldF9h
ZGRyZXNzOgogICAgICAgIGFkZHJlc3M6IDAuMC4wLjAKICAgICAgICBwb3J0X3ZhbHVlOiA0NDMK
ICAgIHBlcl9jb25uZWN0aW9uX2J1ZmZlcl9saW1pdF9ieXRlczogMzI3NjggIyAzMiBLaUIKICAg
IGZpbHRlcl9jaGFpbnM6CiAgICAtIHRyYW5zcG9ydF9zb2NrZXQ6CiAgICAgICAgbmFtZTogZW52
b3kudHJhbnNwb3J0X3NvY2tldHMudGxzCiAgICAgICAgdHlwZWRfY29uZmlnOgogICAgICAgICAg
IkB0eXBlIjogdHlwZS5nb29nbGVhcGlzLmNvbS9lbnZveS5leHRlbnNpb25zLnRyYW5zcG9ydF9z
b2NrZXRzLnRscy52My5Eb3duc3RyZWFtVGxzQ29udGV4dAogICAgICAgICAgY29tbW9uX3Rsc19j
b250ZXh0OgogICAgICAgICAgICB0bHNfY2VydGlmaWNhdGVzOgogICAgICAgICAgICAtIGNlcnRp
ZmljYXRlX2NoYWluOiB7IGZpbGVuYW1lOiAiL2V0Yy9lbnZveS9jZXJ0LnBlbSIgfQogICAgICAg
ICAgICAgIHByaXZhdGVfa2V5OiB7IGZpbGVuYW1lOiAiL2V0Yy9lbnZveS9rZXkucGVtIiB9CiAg
ICAgICMgVW5jb21tZW50IGlmIEVudm95IGlzIGJlaGluZCBhIGxvYWQgYmFsYW5jZXIgdGhhdCBl
eHBvc2VzIGNsaWVudCBJUCBhZGRyZXNzIHVzaW5nIHRoZSBQUk9YWSBwcm90b2NvbC4KICAgICAg
IyB1c2VfcHJveHlfcHJvdG86IHRydWUKICAgICAgZmlsdGVyczoKICAgICAgLSBuYW1lOiBlbnZv
eS5maWx0ZXJzLm5ldHdvcmsuaHR0cF9jb25uZWN0aW9uX21hbmFnZXIKICAgICAgICB0eXBlZF9j
b25maWc6CiAgICAgICAgICAiQHR5cGUiOiB0eXBlLmdvb2dsZWFwaXMuY29tL2Vudm95LmV4dGVu
c2lvbnMuZmlsdGVycy5uZXR3b3JrLmh0dHBfY29ubmVjdGlvbl9tYW5hZ2VyLnYzLkh0dHBDb25u
ZWN0aW9uTWFuYWdlcgogICAgICAgICAgc3RhdF9wcmVmaXg6IGluZ3Jlc3NfaHR0cAogICAgICAg
ICAgdXNlX3JlbW90ZV9hZGRyZXNzOiB0cnVlCiAgICAgICAgICBjb21tb25faHR0cF9wcm90b2Nv
bF9vcHRpb25zOgogICAgICAgICAgICBpZGxlX3RpbWVvdXQ6IDM2MDBzICMgMSBob3VyCiAgICAg
ICAgICAgIGhlYWRlcnNfd2l0aF91bmRlcnNjb3Jlc19hY3Rpb246IFJFSkVDVF9SRVFVRVNUCiAg
ICAgICAgICBodHRwMl9wcm90b2NvbF9vcHRpb25zOgogICAgICAgICAgICBtYXhfY29uY3VycmVu
dF9zdHJlYW1zOiAxMDAKICAgICAgICAgICAgaW5pdGlhbF9zdHJlYW1fd2luZG93X3NpemU6IDY1
NTM2ICMgNjQgS2lCCiAgICAgICAgICAgIGluaXRpYWxfY29ubmVjdGlvbl93aW5kb3dfc2l6ZTog
MTA0ODU3NiAjIDEgTWlCCiAgICAgICAgICBzdHJlYW1faWRsZV90aW1lb3V0OiAzMDBzICMgNSBt
aW5zLCBtdXN0IGJlIGRpc2FibGVkIGZvciBsb25nLWxpdmVkIGFuZCBzdHJlYW1pbmcgcmVxdWVz
dHMKICAgICAgICAgIHJlcXVlc3RfdGltZW91dDogMzAwcyAjIDUgbWlucywgbXVzdCBiZSBkaXNh
YmxlZCBmb3IgbG9uZy1saXZlZCBhbmQgc3RyZWFtaW5nIHJlcXVlc3RzCiAgICAgICAgICByb3V0
ZV9jb25maWc6CiAgICAgICAgICAgIG5hbWU6IGxvY2FsX3JvdXRlCiAgICAgICAgICAgIHZpcnR1
YWxfaG9zdHM6CiAgICAgICAgICAgIC0gbmFtZTogbG9jYWxfc2VydmljZQogICAgICAgICAgICAg
IGRvbWFpbnM6IFsiKiJdCiAgICAgICAgICAgICAgIyBUaGUgZXhhY3Qgcm91dGUgdGFibGUgaXMg
bm90IHN1cGVyIGltcG9ydGFudCBpbiB0aGlzIGV4YW1wbGUgKHRoaXMgaXMgdGhlIG1vZGVsCiAg
ICAgICAgICAgICAgIyBmb3IgdGhlIEdvb2dsZSBWUlAgc2NlbmFyaW8pLgogICAgICAgICAgICAg
IHJvdXRlczoKICAgICAgICAgICAgICAtIG1hdGNoOgogICAgICAgICAgICAgICAgICBwcmVmaXg6
ICIvbm90aGluZyIKICAgICAgICAgICAgICAgIGRpcmVjdF9yZXNwb25zZToKICAgICAgICAgICAg
ICAgICAgc3RhdHVzOiA0MDMKICAgICAgICAgICAgICAgICAgYm9keToKICAgICAgICAgICAgICAg
ICAgICBpbmxpbmVfc3RyaW5nOiAiZGVuaWVkXG4iCiAgICAgICAgICAgICAgLSBtYXRjaDoKICAg
ICAgICAgICAgICAgICAgcHJlZml4OiAiLyIKICAgICAgICAgICAgICAgIHJvdXRlOgogICAgICAg
ICAgICAgICAgICBjbHVzdGVyOiBub2RlZGVwLWRlcGVuZGVuY3kKICAgICAgICAgICAgICAgICAg
aWRsZV90aW1lb3V0OiAxNXMgIyBtdXN0IGJlIGRpc2FibGVkIGZvciBsb25nLWxpdmVkIGFuZCBz
dHJlYW1pbmcgcmVxdWVzdHMKICAgICAgICAgIGh0dHBfZmlsdGVyczoKICAgICAgICAgIC0gbmFt
ZTogZW52b3kuZmlsdGVycy5odHRwLnJvdXRlcgogIGNsdXN0ZXJzOgogICAgbmFtZTogbm9kZWRl
cC1kZXBlbmRlbmN5CiAgICBjb25uZWN0X3RpbWVvdXQ6IDVzCiAgICBwZXJfY29ubmVjdGlvbl9i
dWZmZXJfbGltaXRfYnl0ZXM6IDMyNzY4ICMgMzIgS2lCCiAgICBsb2FkX2Fzc2lnbm1lbnQ6CiAg
ICAgIGNsdXN0ZXJfbmFtZTogbm9kZWRlcC1kZXBlbmRlbmN5CiAgICAgIGVuZHBvaW50czoKICAg
ICAgICAtIGxiX2VuZHBvaW50czoKICAgICAgICAgIC0gZW5kcG9pbnQ6CiAgICAgICAgICAgICAg
YWRkcmVzczoKICAgICAgICAgICAgICAgIHNvY2tldF9hZGRyZXNzOgogICAgICAgICAgICAgICAg
ICBhZGRyZXNzOiAxMjcuMC4wLjEKICAgICAgICAgICAgICAgICAgcG9ydF92YWx1ZTogODA4MAo="
    name: envoy-yaml
  ipAddress:
    type: Public
    ports:
    - protocol: tcp
      port: 443
    - protocol: tcp
      port: 80
    - protocol: TCP
      port: 9901
    - protocol: TCP
      port: 8080
    dnsNameLabel: nodedep-dependency-_NN_
tags: null
type: Microsoft.ContainerInstance/containerGroups
