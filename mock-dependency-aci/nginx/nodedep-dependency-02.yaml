apiVersion: 2019-12-01
location: westeurope
name: nodedep-dependency-02
properties:
  imageRegistryCredentials:
  - server: _ACR_NAME_.azurecr.io
    username: _ACR_NAME_
    password: _ACR_PASSWD_
  containers:
  - name: nginx-with-ssl
    properties:
      image: nginx
      ports:
      - port: 443
        protocol: TCP
      - port: 80
        protocol: TCP
      resources:
        requests:
          cpu: 2.0
          memoryInGB: 0.5
      volumeMounts:
      - name: nginx-config
        mountPath: /etc/nginx
  - name: nodedep-dependency
    properties:
      image: _ACR_NAME_.azurecr.io/nodedep-dependency:0.0.5
      resources:
        requests:
          cpu: 1.0
          memoryInGb: 0.5
      ports:
      - port: 8080
      environmentVariables:
      - name: MOCK_DELAY
        value: 100
  osType: Linux
  volumes:
  - secret:
      ssl.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURqVENDQW5VQ0ZCak5yQVV0M2k1UGdoQVZv
Ny91aTRtYUNBLzBNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1JR0MKTVFzd0NRWURWUVFHRXdKQlZURVRN
QkVHQTFVRUNBd0tVMjl0WlMxVGRHRjBaVEVoTUI4R0ExVUVDZ3dZU1c1MApaWEp1WlhRZ1YybGta
MmwwY3lCUWRIa2dUSFJrTVRzd09RWURWUVFERERKdWIyUmxaR1Z3TFdSbGNHVnVaR1Z1Clkza3RN
REl1ZDJWemRHVjFjbTl3WlM1aGVuVnlaV052Ym5SaGFXNWxjaTVwYnpBZUZ3MHlNREEzTVRVeU1q
RTIKTkRKYUZ3MHlNVEEzTVRVeU1qRTJOREphTUlHQ01Rc3dDUVlEVlFRR0V3SkJWVEVUTUJFR0Ex
VUVDQXdLVTI5dApaUzFUZEdGMFpURWhNQjhHQTFVRUNnd1lTVzUwWlhKdVpYUWdWMmxrWjJsMGN5
QlFkSGtnVEhSa01Uc3dPUVlEClZRUUREREp1YjJSbFpHVndMV1JsY0dWdVpHVnVZM2t0TURJdWQy
VnpkR1YxY205d1pTNWhlblZ5WldOdmJuUmgKYVc1bGNpNXBiekNDQVNJd0RRWUpLb1pJaHZjTkFR
RUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFPVklqTnM5Q2UwUgpaQTBkRnp2Ly82N2VYbkcyTGRkSEJy
dnU0OEJoSWJyUFU0N2pOUWxxdThkenNqTHF3Yi9VVjJocVorb1poTFJmCitZeE53REdiYzQwbHV5
cG5YK1JIY0FERTBMNlQ3am9uQk9ESGhlRGpIVnRYQWtWTmRha3g5M29CQzY5K0NYbkYKMmEzSXFH
ZkxCbzkveGxDSysya0ZXYjNsbTArNmN4M0xuTStZclNUUDlkNnNDUFAwNWZEY2pNR3Eyckh5TVQ5
cApmaXBvY01SNnVGVlFpU2YrblJhV0thOW54bFdWTGdPWUJVK2wxbXF3YWs3WGlTQmlRMTVveG16
bFRybkFmOVY3ClBlWHdpRFdpMG45RGgyVlJHV3BZTEJFbGRVWGsxQTJaRUp2WGxHQVNpaUxscHZl
SWpXR1k0TEhiL1dFcTZrUGsKNlN2ZGRtbTJZOVVDQXdFQUFUQU5CZ2txaGtpRzl3MEJBUXNGQUFP
Q0FRRUExdE5UVzNYejNxSUUyMlFPWGRJcwppWWFwMXdpUlFHZkFSNkdkbFh0WW9DK0Roa1VjSXRW
eUhybDgwc1FoczBJaGEyMHdlQk1mMy9OdW04M3dHNVBHCjFCWGV4S2dZMGlTMWRheEh0OGdsZkpM
QTkrQjRKbHlHSnJRZUR1ZGdNV21qMXRLSktHeDl0ZlFCY0xIQ21hVGoKcHZZS2xndlphTjg1VUdo
THJtUXd6MUhnZmN2VmpUa1VTT3BDWU5Nd251OTZnQm9GRmc3S2h6Z2xoMm5PcTJlUgpFTXFrcWZL
R25odFVwTzJYcjNzVGhXZStUTFB3bi9Oc2ZQdlZ4ME95OU5ZT21PVkNkN0tNTnM2bnQ3TWx0UHll
CkJ5ODY4VVBYTlZGenNIa0d6bGJaMkNkZUErRnVuZHl1T0FMQmhYNHdzSkpxY2lWOFRCNVlUUzhq
VmRPYmNIa2YKZVE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
      ssl.key: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZB
QVNDQktrd2dnU2xBZ0VBQW9JQkFRRGxTSXpiUFFudEVXUU4KSFJjNy8vK3UzbDV4dGkzWFJ3YTc3
dVBBWVNHNnoxT080elVKYXJ2SGM3SXk2c0cvMUZkb2FtZnFHWVMwWC9tTQpUY0F4bTNPTkpic3Fa
MS9rUjNBQXhOQytrKzQ2SndUZ3g0WGc0eDFiVndKRlRYV3BNZmQ2QVF1dmZnbDV4ZG10CnlLaG55
d2FQZjhaUWl2dHBCVm05NVp0UHVuTWR5NXpQbUswa3ovWGVyQWp6OU9YdzNJekJxdHF4OGpFL2FY
NHEKYUhERWVyaFZVSWtuL3AwV2xpbXZaOFpWbFM0RG1BVlBwZFpxc0dwTzE0a2dZa05lYU1aczVV
NjV3SC9WZXozbAo4SWcxb3RKL1E0ZGxVUmxxV0N3UkpYVkY1TlFObVJDYjE1UmdFb29pNWFiM2lJ
MWhtT0N4Mi8xaEt1cEQ1T2tyCjNYWnB0bVBWQWdNQkFBRUNnZ0VBUU4rUk15c0hGdk9YdW5vanE4
OVlHYk5EUjZ0RE55a2FoNndrOXJiRTQyVnIKLy83YmI4bXFUZG0zYnQ2cmFVcDhYTWZXbFE4WlZD
dmZvTW9TK2paQXNJd2ZjL1VCMWNZOHM0cjhnUis4Qk9vcgpZQ28wQUJoaW93aHdWUW1BcEJuR0t0
Z0c1V1drNnJhSFM3dDlvcmg0Sjd3QWNhT1JWUHExbEp4Vm9HNWh5ZWpjClZqdnJscmdXVkpsaUdS
MDFkYnp0eE9ZYityUTNBblljakZYNXBnelpnUFpNdVlQWjRLMUlzRTVmbU1UL0F3YkUKKy9xell5
ZVluam10VmFYUjJiMDVPVzhoTm91OVREOTh4dVlnOXgvNG9SOVJJRTNsZi90dTlDcGg2N0lLbW84
UApGazZtK0FyMXh2ZURyeHZSSFNqL2xJT3p4V0hiV09pWkluUG85N0R0VlFLQmdRRDRXZkNuRHBF
ZGNXSWo3UGk4CnFIQjFseXJreldYSm1nMmZjRytMNXVsanNOTEZ6UDN0S0hhV3F3WXQ3L1ZXZWQ3
TUh1SnRhdW1PZjBmcm93SmgKNWl6VUN2UVlqN2FBQ25tNVUxZ05HUUZMbVl0TlFCQWoyU21wci9I
aXVvazIzM1MzbkFJTFY1V2JkWW1udk1TTgpUOFB1Sk5uYUFKUFE1UlBCNGRLeGgvdVIyd0tCZ1FE
c1dFWXZWR08vWENqZ0hvK2N6MlZLZ3hDK093WmxlNTlXCnJhMkszWStSMVF4OXcyVFFuV21tb0g3
cmlJRFozdStGY1c4TlRhZStYWmNvd2ZXWTRwZTIwTVVYNFA1VjRzVEMKSjUyK0ppaG1FT1FWcGZw
dHFqMXlzQ2JpUG03Sk9lR3J0K1ZkM2VYMGhKMVVveHBCYVo3OEFDd0k0Z1kySlJGOAoxNzVnUlY0
SUR3S0JnUURVbGhDVXY3aGlUcU1tZzN1cjZqZFJ3Uk9iaFdLaS9yYTRpME5BcTJtT3gxYTBzTE9Q
CjVYb1ZvTklLVW9SZEFMZEJYUktQZk52dCtXL3orYlpaWFBGMGxPZTdlcEZLNnl5bEFmMjJRSGhH
WVduSHQ1WFoKU2RRTEI2dnpXNStIRkNKUjVUNHV2VXM0SnBXdHVyMDVCVlYvTFpZNXNSTFcxckJo
MzA4K1hsdHV6d0tCZ1FDZQptTlh3S01jT3dIOUZkZnlWRTY4N0F4eVhLdkN0NVBrVnAxSlBYMEph
Y0FjRDFieXZLUktlbUJEVGFUUmQvM1huCnJDa0RXbHI0S2NHbnZoQmEyYU5KTUdzeURPOWZIdDgr
RW11T0Qva0lGTW1acFZtWmdhWGVja3FGZzdQQUlMRkoKRkF3OG93ME91bmNCTnJvRnJ5VGFvaHJx
a3hIci80L3VvSy9GMW9hMURRS0JnUURlU2ttemtCY1pOaGpRSkJvUgpWdzhIQVVvTlFEcXZiSW1D
d2ptWmxvTGkxcFlNNW9WZ2w0RWdTNitPdEpnYjdxbnhJWTlxOFRBWDJ1SlRFNzkwCmJUR2pqdmty
aUFUb2lFSm5Vd1NheTlVMFNTL2xLL3BUdStmN1B0UGZiMVd3L08wS0FSd2FtN3RZbGJtenRwUUMK
YWNRbkt2N0s4cjY1Wk5iUjZ3RDJBM3Zkb1E9PQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg=="
      nginx.conf: "IyBuZ2lueCBDb25maWd1cmF0aW9uIEZpbGUKIyBodHRwczovL3dpa2kubmdpbngub3JnL0NvbmZp
Z3VyYXRpb24KCiMgUnVuIGFzIGEgbGVzcyBwcml2aWxlZ2VkIHVzZXIgZm9yIHNlY3VyaXR5IHJl
YXNvbnMuCnVzZXIgbmdpbng7Cgp3b3JrZXJfcHJvY2Vzc2VzIGF1dG87CgpldmVudHMgewogIHdv
cmtlcl9jb25uZWN0aW9ucyAxMDI0Owp9CgpwaWQgICAgICAgIC92YXIvcnVuL25naW54LnBpZDsK
Cmh0dHAgewoKICAgICNSZWRpcmVjdCB0byBodHRwcywgdXNpbmcgMzA3IGluc3RlYWQgb2YgMzAx
IHRvIHByZXNlcnZlIHBvc3QgZGF0YQoKICAgIHNlcnZlciB7CiAgICAgICAgbGlzdGVuIFs6Ol06
NDQzIHNzbDsKICAgICAgICBsaXN0ZW4gNDQzIHNzbDsKCiAgICAgICAgc2VydmVyX25hbWUgbG9j
YWxob3N0OwoKICAgICAgICAjIFByb3RlY3QgYWdhaW5zdCB0aGUgQkVBU1QgYXR0YWNrIGJ5IG5v
dCB1c2luZyBTU0x2MyBhdCBhbGwuIElmIHlvdSBuZWVkIHRvIHN1cHBvcnQgb2xkZXIgYnJvd3Nl
cnMgKElFNikgeW91IG1heSBuZWVkIHRvIGFkZAogICAgICAgICMgU1NMdjMgdG8gdGhlIGxpc3Qg
b2YgcHJvdG9jb2xzIGJlbG93LgogICAgICAgIHNzbF9wcm90b2NvbHMgICAgICAgICAgICAgIFRM
U3YxLjI7CgogICAgICAgICMgQ2lwaGVycyBzZXQgdG8gYmVzdCBhbGxvdyBwcm90ZWN0aW9uIGZy
b20gQmVhc3QsIHdoaWxlIHByb3ZpZGluZyBmb3J3YXJkaW5nIHNlY3JlY3ksIGFzIGRlZmluZWQg
YnkgTW96aWxsYSAtIGh0dHBzOi8vd2lraS5tb3ppbGxhLm9yZy9TZWN1cml0eS9TZXJ2ZXJfU2lk
ZV9UTFMjTmdpbngKICAgICAgICBzc2xfY2lwaGVycyAgICAgICAgICAgICAgICBFQ0RIRS1SU0Et
QUVTMTI4LUdDTS1TSEEyNTY6RUNESEUtRUNEU0EtQUVTMTI4LUdDTS1TSEEyNTY6RUNESEUtUlNB
LUFFUzI1Ni1HQ00tU0hBMzg0OkVDREhFLUVDRFNBLUFFUzI1Ni1HQ00tU0hBMzg0OkRIRS1SU0Et
QUVTMTI4LUdDTS1TSEEyNTY6REhFLURTUy1BRVMxMjgtR0NNLVNIQTI1NjprRURIK0FFU0dDTTpF
Q0RIRS1SU0EtQUVTMTI4LVNIQTI1NjpFQ0RIRS1FQ0RTQS1BRVMxMjgtU0hBMjU2OkVDREhFLVJT
QS1BRVMxMjgtU0hBOkVDREhFLUVDRFNBLUFFUzEyOC1TSEE6RUNESEUtUlNBLUFFUzI1Ni1TSEEz
ODQ6RUNESEUtRUNEU0EtQUVTMjU2LVNIQTM4NDpFQ0RIRS1SU0EtQUVTMjU2LVNIQTpFQ0RIRS1F
Q0RTQS1BRVMyNTYtU0hBOkRIRS1SU0EtQUVTMTI4LVNIQTI1NjpESEUtUlNBLUFFUzEyOC1TSEE6
REhFLURTUy1BRVMxMjgtU0hBMjU2OkRIRS1SU0EtQUVTMjU2LVNIQTI1NjpESEUtRFNTLUFFUzI1
Ni1TSEE6REhFLVJTQS1BRVMyNTYtU0hBOkFFUzEyOC1HQ00tU0hBMjU2OkFFUzI1Ni1HQ00tU0hB
Mzg0OkVDREhFLVJTQS1SQzQtU0hBOkVDREhFLUVDRFNBLVJDNC1TSEE6QUVTMTI4OkFFUzI1NjpS
QzQtU0hBOkhJR0g6IWFOVUxMOiFlTlVMTDohRVhQT1JUOiFERVM6ITNERVM6IU1ENTohUFNLOwog
ICAgICAgIHNzbF9wcmVmZXJfc2VydmVyX2NpcGhlcnMgIG9uOwoKICAgICAgICAjIE9wdGltaXpl
IFRMUy9TU0wgYnkgY2FjaGluZyBzZXNzaW9uIHBhcmFtZXRlcnMgZm9yIDEwIG1pbnV0ZXMuIFRo
aXMgY3V0cyBkb3duIG9uIHRoZSBudW1iZXIgb2YgZXhwZW5zaXZlIFRMUy9TU0wgaGFuZHNoYWtl
cy4KICAgICAgICAjIFRoZSBoYW5kc2hha2UgaXMgdGhlIG1vc3QgQ1BVLWludGVuc2l2ZSBvcGVy
YXRpb24sIGFuZCBieSBkZWZhdWx0IGl0IGlzIHJlLW5lZ290aWF0ZWQgb24gZXZlcnkgbmV3L3Bh
cmFsbGVsIGNvbm5lY3Rpb24uCiAgICAgICAgIyBCeSBlbmFibGluZyBhIGNhY2hlIChvZiB0eXBl
ICJzaGFyZWQgYmV0d2VlbiBhbGwgTmdpbnggd29ya2VycyIpLCB3ZSB0ZWxsIHRoZSBjbGllbnQg
dG8gcmUtdXNlIHRoZSBhbHJlYWR5IG5lZ290aWF0ZWQgc3RhdGUuCiAgICAgICAgIyBGdXJ0aGVy
IG9wdGltaXphdGlvbiBjYW4gYmUgYWNoaWV2ZWQgYnkgcmFpc2luZyBrZWVwYWxpdmVfdGltZW91
dCwgYnV0IHRoYXQgc2hvdWxkbid0IGJlIGRvbmUgdW5sZXNzIHlvdSBzZXJ2ZSBwcmltYXJpbHkg
SFRUUFMuCiAgICAgICAgc3NsX3Nlc3Npb25fY2FjaGUgICAgc2hhcmVkOlNTTDoxMG07ICMgYSAx
bWIgY2FjaGUgY2FuIGhvbGQgYWJvdXQgNDAwMCBzZXNzaW9ucywgc28gd2UgY2FuIGhvbGQgNDAw
MDAgc2Vzc2lvbnMKICAgICAgICBzc2xfc2Vzc2lvbl90aW1lb3V0ICAyNGg7CgoKICAgICAgICAj
IFVzZSBhIGhpZ2hlciBrZWVwYWxpdmUgdGltZW91dCB0byByZWR1Y2UgdGhlIG5lZWQgZm9yIHJl
cGVhdGVkIGhhbmRzaGFrZXMKICAgICAgICBrZWVwYWxpdmVfdGltZW91dCAzMDA7ICMgdXAgZnJv
bSA3NSBzZWNzIGRlZmF1bHQKCiAgICAgICAgIyByZW1lbWJlciB0aGUgY2VydGlmaWNhdGUgZm9y
IGEgeWVhciBhbmQgYXV0b21hdGljYWxseSBjb25uZWN0IHRvIEhUVFBTCiAgICAgICAgYWRkX2hl
YWRlciBTdHJpY3QtVHJhbnNwb3J0LVNlY3VyaXR5ICdtYXgtYWdlPTMxNTM2MDAwOyBpbmNsdWRl
U3ViRG9tYWlucyc7CgogICAgICAgIHNzbF9jZXJ0aWZpY2F0ZSAgICAgIC9ldGMvbmdpbngvc3Ns
LmNydDsKICAgICAgICBzc2xfY2VydGlmaWNhdGVfa2V5ICAvZXRjL25naW54L3NzbC5rZXk7Cgog
ICAgICAgIGxvY2F0aW9uIC8gewogICAgICAgICAgICBwcm94eV9wYXNzIGh0dHA6Ly9sb2NhbGhv
c3Q6ODA4MDsgIyBUT0RPOiByZXBsYWNlIHBvcnQgaWYgYXBwIGxpc3RlbnMgb24gcG9ydCBvdGhl
ciB0aGFuIDgwCiAgICAgICAgICAgIAogICAgICAgICAgICBwcm94eV9zZXRfaGVhZGVyIENvbm5l
Y3Rpb24gIiI7CiAgICAgICAgICAgIHByb3h5X3NldF9oZWFkZXIgSG9zdCAkaG9zdDsKICAgICAg
ICAgICAgcHJveHlfc2V0X2hlYWRlciBYLVJlYWwtSVAgJHJlbW90ZV9hZGRyOwogICAgICAgICAg
ICBwcm94eV9zZXRfaGVhZGVyIFgtRm9yd2FyZGVkLUZvciAkcmVtb3RlX2FkZHI7CiAgICAgICAg
fQogICAgfQp9"
    name: nginx-config
  ipAddress:
    type: Public
    ports:
    - protocol: tcp
      port: 443
    - protocol: tcp
      port: 80
    dnsNameLabel: nodedep-dependency-02
tags: null
type: Microsoft.ContainerInstance/containerGroups
